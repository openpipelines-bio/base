name: nanoplot
description: |
  Run NanoPlot on nanopore-sequenced reads.
  "Sample"
keywords: ["quality control", "qc", "fastq", "sequencing summary", "nanopore"]
links:
  repository: https://github.com/wdecoster/NanoPlot/tree/master
  homepage: http://nanoplot.bioinf.be/
license: MIT
argument_groups:
  - name: Inputs
    arguments:
      - name: --fastq
        type: file
        description: List of input basecalled-FastQ files.
        required: true
        example: read.fq
  - name: Outputs
    arguments:
      - name: --meta
        type: map
        description: |
          Groovy Map containing sample information
          e.g. [ id:'test', single_end:false ]
        direction: output
      - name: --html
        type: file
        description: NanoPlot report
        direction: output
        example: report.html
      - name: --png
        type: file
        description: Plots generated by NanoPlot
        direction: output
        example: plots.png
      - name: --txt
        type: file
        description: Stats from NanoPlot
        direction: output
        example: stats.txt
      - name: --log
        type: file
        description: log file of NanoPlot run
        direction: output
        example: run.log
      - name: --versions
        type: file
        description: File containing software versions
        direction: output
        example: versions.yml
resources:
  - type: bash_script
    path: script.sh
test_resources:
  - type: bash_script
    path: test.sh
  - type: file
    path: test_data
engines:
  - type: docker
    image: quay.io/biocontainers/nanoplot:0.16.2--py35_0
    setup:
      - type: docker
        run: |
          touch ./var/software_versions.txt && \
          # version=$(NanoPlot --version) && \
          version=$(docker run quay.io/biocontainers/nanoplot:0.16.2--py35_0 NanoPlot --version) && \
          echo "$version" > ./var/software_versions.txt
runners:
  - type: executable
  - type: nextflow